# Feurst EDI Gestion des commandes
Richard Pasquiou <richard.pasquiou@alfredplace.io>
v1.0, 2022-03-08
// Mise en place de la table des mati√®res
:toc-title: Table des mati√®res
:toc:

Feurst souhaite √©diter des devis, et des commandes via un module nomm√© EDI accessible via l'url https://www.tools.feurst.fr.

Selon le *profil utilis√©* pour visiter ce site, les *clients, commerciaux et administrateurs* de Feurst disposent d'une interface adapt√©e √† leurs besoins.

Les *administrateurs* attribuent des acc√®s aux comptes.

Les *clients* peuvent saisir des r√©f√©rences des produits pour √©tablir des commandes et des devis. Un import de fichier type tableur permet d'ajouter / remplacer (rayer la mention inutile) des r√©f√©rences de produits dans le formulaire de saisie de commande. Le mod√®le de fichier est t√©l√©chargeable.

Les *commerciaux* peuvent cr√©er, modifier des devis et envoyer au client la proposition finale. Ils mettent √† jour le statut des commandes en important les factures et bons de livraison.

<<<
:numbered:
## Vue d'ensemble des rubriques selon profil

. Administrateur
.. Commandes
.. Mon profil
.. Dashboard
... Gestion des acc√®s
... Factures
... Compte
.... Modification informations compte (Infos E)
. Commerciaux / ADV
.. Commandes
... Commandes √† traiter
.... Statuts de commandes
.... Ajout de documents (Factures, bons de livraison)
... Commandes trait√©es
.. Devis
... Devis √† traiter
.... Modification de devis
... Devis trait√©s
... Cr√©ation de devis
. Clients
.. Commandes
... Commandes
.... Cr√©ation de commande (ajout de produits selon r√©f√©rence, adresse de livraison)
... Historique de commandes
... Mes devis
.. Mon Compte
... Modification informations compte (Infos E et modif mot de passe)

<<<

## Formulaire de connexion

TIP: maquette p.10

Afin d'acc√©der √† l'espace d√©di√© au profil, on renseigne un formulaire (unique ?) de connexion ou l'on a la possibilit√© de demander un acc√®s.

### Login

*Informations*`saisie`::
- [ ] Login email
- [ ] Login mot de passe

*Actions*::
- [ ] _Bouton_ *Se connecter*
- [ ] _Lien_ *Mot de passe oubli√©*


NOTE: Interface de r√©cup√©ration de mot de passe manquante.

NOTE: Manque le choix du r√¥le (admin/client/vendeur).

NOTE: Manque la maquette de la page *Nous contacter*

### Demande acc√®s

Demande acc√®s compte

*Informations*`visu`::
- [ ] _Lien_ Demander des acc√®s


NOTE: Interface de demande d'acc√®s manquante.

## Profil administrateur

### Gestion des acc√®s

TIP: maquette p.17

#### Administrateurs

Liste des administrateurs

*Informations*`visu`::
- [ ] Administrateur nom
- [ ] Administrateur pr√©nom
- [ ] Administrateur email

*Actions*::
- [ ] Administrateur ajout
- [ ] Administrateur modification
- [ ] Administrateur suppression

#### Gestion des acc√®s

Liste des revendeurs ayant acc√®s au service.

*Informations*`visu`::
- [ ] Revendeur nom
- [ ] Revendeur pr√©nom
- [ ] Revendeur email
- [ ] Revendeur recherche utilisateur `saisie`

*Actions*::
- [ ] Revendeur ajout
- [ ] Revendeur modification
- [ ] Revendeur suppression
- [ ] Revendeur tri par ordre alpha


NOTE: Quid des profils assign√©s ? Les affiche t'on ?


NOTE: Screen de modification revendeurs manquant


NOTE: T√©l√©chargement ou upload sous forme de tableur des revendeurs ayant acc√®s ? Exemple de fichier ?


### Factures

TIP: maquette p.15

Tableau recensant les commandes r√©alis√©es par l'ensemble des clients affich√©es selon un *filtre de date/p√©riode*, et un *tri par colonne*

.Exemple d'entr√©e du tableau des factures
[width="80%",options="header"]
|==============================================
| Date       | D√©signation        | Quantit√© | Prix total | D√©tails       | Statut
| 21/12/21   | Carri√®re de granit | 4        | 380,93 ‚Ç¨   | T√©l√©charger   | Livr√©e
|==============================================

*Informations*`visu`::
- [ ] facture date
- [ ] facture d√©signation
- [ ] quantit√©
- [ ] facture prix total
- [ ] facture statut

*Actions*::
- [ ] Trier par
- [ ] Filtres
- [ ] T√©l√©charger facture (colonne d√©tails)


NOTE: Le statut *Livr√©e* est-il affich√© quand le bon de livraison a √©t√© renseign√© sur la commande ?

### Compte

TIP: maquette p.16

*Informations*`visu|saisie`::
- [ ] D√©nomination sociale
- [ ] SIRET
- [ ] No TVA
- [ ] Adresse de facturation

## Profil Commerciaux / ADV

### Commandes

#### Commandes √† traiter

TIP: maquette p.19

Liste de commandes √† traiter affich√©es selon un *filtre de compte client*, et un *tri par date*.
Sur cet √©cran, les statuts des commandes sont _tagu√©es_ selon les statuts suivants :

* Trait√©e
* Partiellement trait√©e

*Informations*`visu`::
Les informations pour chaque commande affich√©e sont :
- [ ] intitul√©
- [ ] Num√©ro de commande
- [ ] Date de commande

*Actions*::
sur chaque commande :
- [ ] Voir la commande
- [ ] Ajout d'√©l√©ments relatifs √† la commande (facture, bon de livraison, commentaires)



NOTE: Comment acc√®de-t'on √† la modale de d√©p√¥t de documents ?


NOTE: Une commande est consid√©r√©e trait√©e lorsque la facture et le BL ont √©t√© renseign√©s ?


NOTE: Je ne comprends pas le _tag_ du statut (trait√©e|partiellement trait√©e) √©tant donn√© la segmentation plus haut (Commandes √† traiter, commandes trait√©es)

#### Commandes trait√©es

A discuter ü§î

### Devis

#### Devis √† traiter

TIP: maquette p.21

Liste des devis √† traiter sous forme de tableau selon un *filtre de compte client*, et un *tri par date*.

.Exemple d'entr√©e du tableau des devis √† traiter
[width="80%",options="header"]
|==================================================================
| Date       | D√©signation            | D√©tails | Statut     | Validation
| 21/12/21   | Carri√®re de Val d'Oise | Voir    | √† traiter  | Traiter
|==================================================================

*Informations*`visu`::
Les informations pour chaque devis affich√© sont :
- [ ] Devis date
- [ ] Devis d√©signation
- [ ] Devis statut

*Actions*::
sur chaque devis :
- [ ] Voir (colonne d√©tails)
- [ ] Traiter (colonne validation)


NOTE: Il y a un filtre compte client, mais le num√©ro ou identifiant client n'est pas pr√©sent dans le tableau des devis √† traiter.


NOTE: Qu'implique l'action traiter ? La modification du devis ?

#### Modification de devis

TIP: maquette p.22

[#addRefProduct]
##### Ajout produit par r√©f√©rence

Le commercial peut ajouter d'autres produits au devis. L'interface √† cet effet dispose d'un champ de saisie de r√©f√©rence catalogue, et d'un champ quantit√©.

*Informations*`saisie`::
- [ ] r√©f√©rence produit
- [ ] quantit√© produit

*Actions*::
- [ ] _Bouton_ *valider* (ajout de r√©f et quantit√©) => Zone relatant existence / dispo produit


NOTE: Comment saisir une quantit√© diff√©rente apr√®s la validation ?


NOTE: Peut-√™tre remplacer la zone d'informations produit par une popup si stock insuffisant ?

##### Ajout produit au devis
A l'action du bouton valider (ajout de r√©f et quantit√©), v√©rification du produit en base, et affichage d'une zone relatant l'existence et la dispo produit :

###### Produit existant

*Informations*`visu`::
- [ ] Produit d√©signation
- [ ] Produit quantit√© disponible par rapport √† celle demand√©e
- [ ] Produit poids
- [ ] Produit prix catalogue
- [ ] Produit remise
- [ ] Produit prix

*Actions*::
- [ ] _Bouton_ *Ajouter au devis* => Nouvelle entr√©e au tableau "D√©tails du devis en cours"

###### Produit inexistant

*Informations*`visu`::
- [ ] Message erreur invitant √† saisir une autre r√©f√©rence.

##### D√©tails du devis en cours

Le commercial peut √©galement supprimer un produit, modifier les quantit√©s et le pourcentage de remise appliqu√© sur un produit.

[#productEntry]
.Exemple d'entr√©e du tableau D√©tails du devis en cours
[width="100%",options="header", caption="Les champs √©ditables sont entre []. "]
|==========================================================================================
| R√©f catalogue | D√©signation | Quantit√© | Poids | Prix catalogue | Remises | Votre prix | Suppression
| 940561        | TKN13-PE    | [1]      | 14kg  | 64,88          | [40] %  | 38,93      | üóëÔ∏è
|==========================================================================================

*Informations*`visu`::
Les informations pour chaque ligne du devis affich√© sont :
- [ ] Produit ref catalogue
- [ ] Produit d√©signation
- [ ] Produit quantit√© `visu|saisie`
- [ ] Produit poids
- [ ] Produit prix catalogue
- [ ] Produit remise `visu|saisie`
- [ ] Produit prix `visu|saisie`
- [ ] En fin de tableau : total du devis comprenant le total des produits remis√©s + le montant de la livraison


*Actions*::
- [ ] Saisie r√©f√©rence produit
- [ ] Quantit√© produit (colonne Quantit√©)
- [ ] Remise produit (colonne Remises)
- [ ] Suppression ligne produit (colonne Suppression)


##### Livraison

Une zone de l'√©dition du devis pr√©cise l'adresse et le montant de la livraison. Ce dernier est modifiable.

*Informations*`visu`::
- [ ] Livraison type (standard|express)
- [ ] Livraison adresse
- [ ] Livraison num√©ro t√©l√©phone
- [ ] Livraison montant `visu|saisie`
- [ ] Livraison d√©lai estim√©


##### Envoi du devis modifi√© au client

L'envoi du devis au client est envoy√© par m√©l.
Le devis √©dit√© a une date de validit√© de `XXX` jours √† compter de son √©dition.

*Actions*::
- [ ] _Bouton_ *Envoyer au client*



NOTE: Le prix remis√© est-il arrondi √† l'inf√©rieur ou sup√©rieur ?

[#devisTraites]
### Devis trait√©s

TIP: maquette p.15

Tableau recensant les devis trait√©s affich√©s selon un *filtre compte client*, et un *tri par date/p√©riode*

.Exemple d'entr√©es du tableau devis trait√©s
[width="100%",options="header"]
|==========================================================================================
| Date     | D√©signation     | D√©tails | Statut                                                        | Validation
| 21/12/21 | Carri√®re du...  | Voir    | üü¢ trait√©e https://example.org/[voir la proposition]  Valable jusqu'au 20/01/22 | En attente d'acceptation
| 21/12/21 | Carri√®re du...  | Voir    | ‚ö´ termin√©e   | La proposition a √©t√© accept√©e - https://example.org/[voir la commande]
| 21/12/21 | Carri√®re du...  | Voir    | ‚ö´ expir√©e   | La proposition a expir√©
|==========================================================================================

*Informations*`visu`::
Les informations pour chaque ligne du tableau devis trait√©s sont :
- [ ] Devis date
- [ ] Devis d√©signation
- [ ] Devis d√©tails
- [ ] Devis statut
- [ ] Devis validation

*Actions*::
- [ ] Voir la proposition (colonne _Statut_)
- [ ] Voir la commande (colonne _Validation_)



### Cr√©ation de devis

TIP: maquette p.21 pour le _bouton_ *Cr√©er un devis*

Le bouton *Cr√©er un devis* est sur le screen des devis √† traiter.


NOTE: Est-ce le m√™me process que lorsque le client commande ? Avec l'option Demande de devis ? Voir maquette p.3


NOTE: Je propose de mettre le bouton *Cr√©er un devis* dans le section devis, en haut, √† c√¥t√© du titre Traitement des devis. (accessible sur les sections devis √† traiter et devis trait√©s)


## Clients

### Commandes

#### Commande

TIP: maquette p.1

Deux options sont propos√©es en premier lieu :
* Importer un fichier Excel
* Renseigner manuellement la commande

##### Import fichier Excel

*Actions*::
- [ ] _Bouton_ *Import fichier Excel*
- [ ] _Lien_ *T√©l√©charger le mod√®le de fichier Excel*

[#commandeClientSaisie]
##### Saisie r√©f√©rence

Voir <<addRefProduct, Ajout produit par r√©f√©rence>>. La saisie des r√©f√©rences induit le m√™me comportement pr√©sent√© ci-dessus : Zone pr√©sentant la dispo du produit, ou erreur si r√©f√©rence non trouv√©e.

##### Tableau des r√©f√©rences en commande

Le mod√®le est proche de celui pr√©sent√© sur la <<productEntry, modification du devis>>

.Exemple d'entr√©e du tableau d√©tails de la commande en cours
[width="100%",options="header"]
|==========================================================================================
| R√©f catalogue | D√©signation | Quantit√© | Poids | Prix catalogue | Remises | Votre prix | Suppression
| 940561        | TKN13-PE    | 1        | 14kg  | 64,88          | 40 %    | 38,93      | üóëÔ∏è
|==========================================================================================

*Informations*`visu`::
Les informations pour chaque ligne de la commande affich√©e sont :
- [ ] Produit ref catalogue
- [ ] Produit d√©signation
- [ ] Produit quantit√©
- [ ] Produit poids
- [ ] Produit prix catalogue
- [ ] Produit remise
- [ ] Produit prix

*Actions*::
- [ ] Suppression ligne produit (colonne Suppression)


NOTE: Pas de total de commande indiqu√© ?

##### Modale de livraison

D√®s qu'une r√©f√©rence est renseign√©e, le bouton *J'ai fini, indiquer mes options de livraison* est actif.

Lors du clic sur *J'ai fini, indiquer mes options de livraison*, la modale de livraison doit afficher les √©lements suivants :

*Informations*`saisie`::
- [ ] Livraison nom commande
- [ ] Livraison nom adresse (si adresses du client, les afficher en listes)
- [ ] Livraison adresse
- [ ] Livraison cp
- [ ] Livraison ville
- [ ] Livraison pays
- [ ] Livraison num√©ro t√©l√©phone (non requis)
- [ ] Livraison option [standard|express]

*Actions*::
- [ ] Valider ces informations => fermeture de la modale



NOTE: Sur la maquette p.3, il y a les boutons *demande de devis* et *J'ai fini, indiquer mes options de livraison*. √ßa me chagrine. Je pr√©f√©rerai n'afficher que *J'ai fini*

##### Revenir √† la saisie

On revient √† la saisie <<commandeClientSaisie, dans le tableau>>.


NOTE: Efface-t'on l'adresse ? Je sais pas, je suis fatigu√©.

##### Demande de devis

*Actions*::
- [ ] _Bouton_ *Demande de devis*
- [ ] Envoi m√©l client devis re√ßu
- [ ] Envoi m√©l Feurst devis


##### Valider ma commande

*Actions*::
- [ ] _Bouton_ *Valider ma commande*
- [ ] Envoi m√©l client confirmation commande
- [ ] Envoi m√©l Feurst commande


#### Historique de commandes

TIP: maquette p.6

Tableau recensant l'historique de commandes du client connect√© affich√©es selon un *filtre de date/p√©riode*, et un *tri par date*


NOTE: Peut-√™tre supprimer les zones "Trier par" et "Filtres", le tableau a d√©j√† ses filtres

.Exemple d'entr√©e du tableau historique de commandes
[width="80%",options="header"]
|================================================================================
| Date       | D√©signation        | Quantit√© | Prix total | D√©tails | Statut  | Re-commander
| 21/12/21   | Carri√®re de granit | 4        | 380,93 ‚Ç¨   | Voir    | Trait√©e | trolleyIcon
|================================================================================

*Informations*`visu`::
- [ ] Commande date
- [ ] Commande d√©signation
- [ ] Commande quantit√©
- [ ] Commande prix total
- [ ] Commande d√©tails
- [ ] Commande statut
- [ ] Commande recommander

*Actions*::
- [ ] Trier par
- [ ] Filtres
- [ ] Voir commande (colonne d√©tails)

##### Voir commande

TIP: maquette p.7

###### D√©tails commande (g√©n√©ral)

Affichage du nom, num√©ro et date de commande

*Informations*`visu`::
- [ ] Commande nom/d√©signation
- [ ] Commande num√©ro
- [ ] Commande date

*Actions*::
- [ ] _Bouton_ imprimer commande


###### d√©tails commande (tableau)

Tableau recensant les d√©tails d'une commande

.Exemple d'entr√©e du tableau d√©tails de la commande
[width="80%",options="header"]
|==========================================================================================
| R√©f catalogue | D√©signation | Quantit√© | Poids | Prix catalogue | Remises | Votre prix
| 940561        | TKN13-PE    | 4        | 14kg  | 64,88          | 40 %    | 38,93
|==========================================================================================

*Informations*`visu`::
- [ ] Article ref catalogue
- [ ] Article d√©signation
- [ ] Article quantit√©
- [ ] Article poids
- [ ] Article prix catalogue
- [ ] Article remise
- [ ] Article prix

###### d√©tails commande (livraison)

*Informations*`visu`::
- [ ] Livraison type (standard|express)
- [ ] Livraison prix
- [ ] Livraison adresse
- [ ] Livraison num√©ro t√©l√©phone
- [ ] Livraison montant
- [ ] Livraison d√©lai estim√©

###### d√©tails commande (documents utiles)

*Actions*::
- [ ] _Bouton_ t√©l√©charger *facture*
- [ ] _Bouton_ t√©l√©charger *bon de livraison*



NOTE: Livraison prix => environ ?


NOTE: Bouton imprimer ou t√©l√©charger. Est-ce n√©cessaire vu la section documents utiles


#### Mes devis

.Exemple d'entr√©es du tableau Mes devis
[width="100%",options="header"]
|==========================================================================================
| Date     | D√©signation     | D√©tails | Statut                                                        | Validation
| 21/12/21 | Carri√®re du...  | Voir    | üü¢ trait√©e https://example.org/[voir la proposition]  Valable jusqu'au 20/01/22 | Bouton passer commande
| 21/12/21 | Carri√®re du...  | Voir    | üü¢ Command√©          | Vous avez accept√© la proposition
| 21/12/21 | Carri√®re du...  | Voir    | üî∂ Devis en cours    | Proposition en cours
| 21/12/21 | Carri√®re du...  | Voir    | ‚ö´ Expir√©            | Votre proposition a expir√©
|==========================================================================================

*Informations*`visu`::
Les informations pour chaque ligne du tableau Mes devis sont :
- [ ] Devis date
- [ ] Devis d√©signation
- [ ] Devis d√©tails
- [ ] Devis statut
- [ ] Devis validation

*Actions*::
- [ ] Passer commande (colonne _Validation_)
- [ ] => Confirmation m√©l commande client
- [ ] => Envoi m√©l commande Feurst


### Mon Compte

Informations g√©n√©rales sur le client, et changement de mot de passe.

*Informations*`visu|saisie`::
- [ ] Client nom
- [ ] Client pr√©nom
- [ ] Client Entreprise
- [ ] Client email
- [ ] Client t√©l√©phone

#### Modification mot de passe

Texte indiquant les crit√®res valides pour l'enregistrement du mot de passe

*Informations*`saisie`::
- [ ] Mot de passe actuel
- [ ] Nouveau mot de passe

*Actions*::
- [ ] Sauvegarder




## Divers

‚Ä¢ Pour se r√©p√©rer, mettre un √©l√©ment visuel sur Commande, mon compte
‚Ä¢ Adresse unique de livraison pour une commande ? Pourquoi mettre un nom de l'adresse ?
‚Ä¢ Dans mon compte, il n'y a pas l'identifiant client
‚Ä¢ C√¥t√© UX, demande de quotation perso: What is it ?
‚Ä¢ En tant que commercial, Cr√©er un devis mais pour qui ? Une E existante en base uniquement ? Manque un screen
‚Ä¢ Il est indiqu√©e commande livr√©e page . Mais comment indiquer ce statut. Est-ce commande trait√©e
‚Ä¢ Gestion des acc√®s (manque nom de la boite peut-√™tre /  recherche sur tous les champs ?
‚Ä¢ Page 15 : Pourquoi une colonne quantit√© ? Une colonne entreprise √† ajouter ?
‚Ä¢ Page 19 Trait√©e et partiellement trait√©e sont des boutons ?
‚Ä¢ Les clients disposent t'ils d'un taux de remise automatique n√©goci√© ?

Bulles grises : Leur objet ? Imprimer ou t√©l√©charger

Modales : Manque c√¥t√© UI un √©l√©ment pour quitter la modale (une croix avec un label, ou un label)

Devis

Mes devis :

Lien vers "Voir la proposition".
Quel est le visu de cet √©l√©ment

Traitement des devis :

Sur devis √† traiter si il y en a, je mettrai entre () le nombre de devis √† traiter :
Ex: Devis √† traiter (2)
