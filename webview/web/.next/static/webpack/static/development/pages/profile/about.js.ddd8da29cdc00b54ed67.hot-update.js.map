{"version":3,"file":"static/webpack/static\\development\\pages\\profile\\about.js.ddd8da29cdc00b54ed67.hot-update.js","sources":["webpack:///./components/Skills/Skills.js"],"sourcesContent":["import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport axios from 'axios'\r\nimport {withStyles} from '@material-ui/core/styles';\r\nimport styles from './SkillsStyle';\r\nimport cookie from 'react-cookies';\r\nconst {SKILLS}=require('../../utils/consts');\r\nimport Topic from \"../../hoc/Topic/Topic\"\r\n\r\nclass Skills extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const skill_values =  Object.keys(SKILLS).reduce( (acc, curr) => ({...acc, [curr]:0}), {});\r\n    this.state = {\r\n      alfred: [],\r\n      dense: false,\r\n      secondary: false,\r\n      valueRating: 3,\r\n      isChecked: false,\r\n      skill_values: skill_values,\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    axios.defaults.headers.common['Authorization'] = cookie.load('token');\r\n\r\n    if (this.props.alfred) {\r\n      axios.get(`/myAlfred/api/reviews/${this.props.alfred}`)\r\n        .then( res => {\r\n          var skill_values = this.state.skill_values;\r\n          const skills = res.data;\r\n          Object.keys(skills).forEach( key => {\r\n            if (Object.keys(SKILLS).includes(key)) {\r\n              skill_values[key]+=skills[key]\r\n            }\r\n          });\r\n          this.setState({ skill_values:skill_values})\r\n        }).catch(err => console.error(err))\r\n    }\r\n    if (this.props.review) {\r\n      axios.get(`/myAlfred/api/reviews/review/${this.props.review}`)\r\n        .then( res => {\r\n          var skill_values = this.state.skill_values;\r\n          const skills = res.data.note_alfred;\r\n          Object.keys(skills).forEach( key => {\r\n            if (Object.keys(SKILLS).includes(key)) {\r\n              skill_values[key]+=skills[key]\r\n            }\r\n          });\r\n          this.setState({ skill_values:skill_values})\r\n        }).catch(err => console.error(err))\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {classes, hideCount, onClick, skills} = this.props;\r\n    const {skill_values}=this.state;\r\n\r\n    const skillClicked = (e, name) => {\r\n      e.stopPropagation();\r\n      if (onClick) {\r\n        onClick(name);\r\n      }\r\n    };\r\n\r\n\r\n    return (\r\n      <Topic titleTopic={'Compliments'}>\r\n        <Grid container className={classes.skillsContainer} spacing={3}>\r\n          { Object.keys(SKILLS).map((skill, index) => {\r\n            const name =  SKILLS[skill].entrieName;\r\n            const count= skills ? skills[name] : skill_values[skill];\r\n            const pic=`/static/assets/img/skillsAlfred/${SKILLS[skill].picture}${count?'':'_disabled'}.svg`;\r\n              return (\r\n                <Grid key={index} item xs={6} lg={3} xl={3} sm={6} md={6} className={classes.skillCard} onClick={(e) => skillClicked(e, name)}>\r\n                  <Grid>\r\n                    <img title={'pics'} alt={'pics'} src={pic} className={classes.avatarSize}/>\r\n                  </Grid>\r\n                  <Grid className={classes.skillTitle}>{SKILLS[skill].label}</Grid>\r\n                  { hideCount ? null:\r\n                    <Grid className={classes.skillValue}>{`(${skill_values[skill]})`}</Grid>\r\n                  }\r\n                </Grid>\r\n              )\r\n            })\r\n          }\r\n        </Grid>\r\n      </Topic>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Skills)\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAcA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAzCA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AAgCA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAEA;AAAA;AAIA;AAKA;AACA;AAjFA;AACA;AAkFA;;;;A","sourceRoot":""}